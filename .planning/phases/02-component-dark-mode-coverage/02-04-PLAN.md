---
phase: 02-component-dark-mode-coverage
plan: 04
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend/src/pages/Teachers.tsx
  - frontend/src/pages/Schools.tsx
  - frontend/src/pages/Settings.tsx
  - frontend/src/pages/PreferencesSettings.tsx
  - frontend/src/pages/AlertSettings.tsx
  - frontend/src/pages/StageSettings.tsx
  - frontend/src/pages/ImportSettings.tsx
  - frontend/src/pages/ProjectSettings.tsx
autonomous: true

must_haves:
  truths:
    - "Teachers page headings are readable in dark mode"
    - "Schools page filter bar adapts to dark theme"
    - "Schools table rows have proper hover contrast in dark mode"
    - "Settings cards display correctly in dark mode"
    - "All Settings sub-pages have proper contrast"
    - "Preferences, Alerts, Stages, Import, and Project settings are dark-mode aware"
  artifacts:
    - path: "frontend/src/pages/Teachers.tsx"
      provides: "Dark-mode-aware Teachers page"
      contains: "text-foreground"
    - path: "frontend/src/pages/Schools.tsx"
      provides: "Dark-mode-aware Schools page"
      contains: "hover:bg-muted"
    - path: "frontend/src/pages/Settings.tsx"
      provides: "Dark-mode-aware Settings page"
      contains: "text-foreground"
    - path: "frontend/src/pages/AlertSettings.tsx"
      provides: "Dark-mode-aware Alert Settings page"
      contains: "text-muted-foreground"
  key_links:
    - from: "frontend/src/pages/Schools.tsx"
      to: "CSS variables"
      via: "Tailwind semantic classes"
      pattern: "(bg-card|hover:bg-muted|text-foreground)"
---

<objective>
Fix Teachers, Schools, Settings, and all Settings sub-pages for dark mode by replacing hardcoded colors with semantic tokens.

Purpose: Page-level components have hardcoded text-slate-*, bg-white, and hover states that don't adapt to dark mode. These pages need consistent dark theme styling.

Output: All main application pages and Settings sub-pages render correctly in both light and dark themes.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/02-component-dark-mode-coverage/02-CONTEXT.md
@.planning/phases/02-component-dark-mode-coverage/02-RESEARCH.md
@frontend/src/index.css
@frontend/src/pages/Teachers.tsx
@frontend/src/pages/Schools.tsx
@frontend/src/pages/Settings.tsx
@frontend/src/pages/PreferencesSettings.tsx
@frontend/src/pages/AlertSettings.tsx
@frontend/src/pages/StageSettings.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update Teachers and Schools pages with semantic colors</name>
  <files>
    frontend/src/pages/Teachers.tsx
    frontend/src/pages/Schools.tsx
  </files>
  <action>
**Teachers.tsx:**

Page heading:
- `text-slate-900` -> `text-foreground`
- `text-slate-500` -> `text-muted-foreground`

Kanban search input:
- `text-slate-500` (Search icon) -> `text-muted-foreground`

Buttons:
- `bg-blue-600 hover:bg-blue-700` -> Keep (primary brand color)
- `bg-red-600 hover:bg-red-700` (delete) -> Keep (destructive semantic color)

Dialog content:
- Shadcn Dialog already uses semantic colors, no changes needed

**Schools.tsx:**

Page heading:
- `text-slate-900` -> `text-foreground`
- `text-slate-500` -> `text-muted-foreground`

Filter bar:
- `bg-white` -> `bg-card`
- `border-slate-200` -> `border-border`
- `text-slate-500` (Search icon) -> `text-muted-foreground`

Table container:
- `bg-white` -> `bg-card`

Table rows (per user decision: hover-only distinction):
- `hover:bg-slate-50` -> `hover:bg-muted/50`

Table cells:
- `text-slate-500` (empty cell, contact position) -> `text-muted-foreground`

School icon:
- `bg-blue-100 text-blue-600` -> Keep (brand accent, works in both modes)

Buttons:
- `bg-blue-600 hover:bg-blue-700` -> Keep (primary brand)
- `bg-red-600 hover:bg-red-700` -> Keep (destructive)
  </action>
  <verify>
`npm run build --prefix frontend` passes.
`grep -E "text-slate-[0-9]|bg-white|border-slate|hover:bg-slate" frontend/src/pages/Teachers.tsx frontend/src/pages/Schools.tsx` should return empty.
  </verify>
  <done>
Teachers page uses text-foreground for headings, text-muted-foreground for subtitles and icons. Schools page uses bg-card for surfaces, border-border for borders, hover:bg-muted/50 for table rows.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update Settings and PreferencesSettings with semantic colors</name>
  <files>
    frontend/src/pages/Settings.tsx
    frontend/src/pages/PreferencesSettings.tsx
  </files>
  <action>
**Settings.tsx:**

Page heading:
- `text-slate-900` -> `text-foreground`
- `text-slate-500` -> `text-muted-foreground`

Settings cards icon backgrounds:
The icon background colors like `bg-blue-100`, `bg-amber-100`, `bg-purple-100`, `bg-slate-100` are intentional brand accents. However, `bg-slate-100` should be updated for consistency:
- `bg-slate-100` -> `bg-muted`

Icon text colors:
- `text-blue-600`, `text-amber-600`, `text-purple-600` -> Keep (brand accents)
- `text-slate-600` -> `text-muted-foreground`

Chevron and hover:
- `text-slate-400` -> `text-muted-foreground`
- `group-hover:text-blue-600` -> Keep (accent)
- `hover:border-blue-300` -> Keep (accent)
- `text-blue-600` (manage link) -> Keep (accent)

**PreferencesSettings.tsx:**

Page heading:
- Keep as-is (uses default text color)

Subtitle:
- `text-slate-500` -> `text-muted-foreground`

Label description:
- `text-slate-500` -> `text-muted-foreground`

Card components use Shadcn defaults which are already semantic.
  </action>
  <verify>
`npm run build --prefix frontend` passes.
`grep -E "text-slate-[0-9]|bg-slate-100" frontend/src/pages/Settings.tsx frontend/src/pages/PreferencesSettings.tsx` should return empty or minimal.
  </verify>
  <done>
Settings page uses text-foreground for headings, text-muted-foreground for descriptions, bg-muted for neutral icon backgrounds. PreferencesSettings uses text-muted-foreground for all secondary text.
  </done>
</task>

<task type="auto">
  <name>Task 3: Update remaining Settings sub-pages with semantic colors</name>
  <files>
    frontend/src/pages/AlertSettings.tsx
    frontend/src/pages/StageSettings.tsx
    frontend/src/pages/ImportSettings.tsx
    frontend/src/pages/ProjectSettings.tsx
  </files>
  <action>
Apply consistent semantic color replacements to all remaining Settings sub-pages:

**Common patterns for ALL files:**
- `text-slate-900` -> `text-foreground`
- `text-slate-800` -> `text-foreground`
- `text-slate-700` -> `text-foreground`
- `text-slate-600` -> `text-muted-foreground`
- `text-slate-500` -> `text-muted-foreground`
- `text-slate-400` -> `text-muted-foreground`
- `bg-white` -> `bg-card`
- `bg-slate-50` -> `bg-muted`
- `bg-slate-100` -> `bg-muted`
- `border-slate-200` -> `border-border`
- `border-slate-300` -> `border-border`
- `hover:bg-slate-50` -> `hover:bg-muted/50`
- `hover:bg-slate-100` -> `hover:bg-muted`

**AlertSettings.tsx specific:**
- Alert rule cards should use bg-card for containers
- Alert status badges (active/inactive) - keep semantic colors

**StageSettings.tsx specific:**
- Stage list items should use hover:bg-muted/50 for hover states
- Drag handles should use text-muted-foreground

**ImportSettings.tsx specific:**
- Import history table should use bg-card for container
- Table rows should use hover:bg-muted/50

**ProjectSettings.tsx specific:**
- Project cards should use bg-card
- Project status indicators - keep semantic status colors

Keep all brand/accent colors (blue-*, emerald-*, red-*, amber-*) as they provide sufficient contrast in both modes.
  </action>
  <verify>
`npm run build --prefix frontend` passes.
`grep -rE "text-slate-[0-9]|bg-white|bg-slate-[0-9]|border-slate|hover:bg-slate" frontend/src/pages/AlertSettings.tsx frontend/src/pages/StageSettings.tsx frontend/src/pages/ImportSettings.tsx frontend/src/pages/ProjectSettings.tsx` should return empty or minimal.
  </verify>
  <done>
All Settings sub-pages (AlertSettings, StageSettings, ImportSettings, ProjectSettings) use semantic colors: text-foreground for headings, text-muted-foreground for secondary text, bg-card for surfaces, hover:bg-muted/50 for interactive states.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `npm run build --prefix frontend` passes
2. Teachers.tsx uses semantic color classes
3. Schools.tsx filter bar uses bg-card, table rows use hover:bg-muted/50
4. Settings.tsx icon backgrounds use bg-muted where appropriate
5. All Settings sub-pages use semantic colors consistently
</verification>

<success_criteria>
- Teachers page headings use text-foreground
- Teachers page subtitles use text-muted-foreground
- Schools filter bar uses bg-card instead of bg-white
- Schools table border uses border-border
- Schools table rows use hover:bg-muted/50
- Settings cards with slate icon backgrounds use bg-muted
- All page subtitles use text-muted-foreground
- AlertSettings, StageSettings, ImportSettings, ProjectSettings all use semantic colors
- No hardcoded slate colors remain in page components
</success_criteria>

<output>
After completion, create `.planning/phases/02-component-dark-mode-coverage/02-04-SUMMARY.md`
</output>
