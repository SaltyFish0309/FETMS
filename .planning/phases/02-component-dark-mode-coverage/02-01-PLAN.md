---
phase: 02-component-dark-mode-coverage
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend/src/components/layout/Header.tsx
  - frontend/src/components/layout/Sidebar.tsx
autonomous: true

must_haves:
  truths:
    - "Header background adapts to dark theme (not white in dark mode)"
    - "Header text and icons are readable in dark mode"
    - "Sidebar maintains dark appearance but uses semantic tokens"
    - "Search input in header has proper dark mode styling"
  artifacts:
    - path: "frontend/src/components/layout/Header.tsx"
      provides: "Dark-mode-aware header component"
      contains: "bg-card"
    - path: "frontend/src/components/layout/Sidebar.tsx"
      provides: "Sidebar with semantic color tokens"
      contains: "bg-sidebar"
  key_links:
    - from: "frontend/src/components/layout/Header.tsx"
      to: "CSS variables in index.css"
      via: "Tailwind semantic classes"
      pattern: "(bg-card|text-foreground|text-muted-foreground)"
---

<objective>
Fix header and sidebar dark mode styling by replacing hardcoded slate colors with semantic CSS variables.

Purpose: The header currently uses `bg-white` and hardcoded slate colors that don't adapt to dark mode. Per user decision, navigation should be "slightly elevated" (one shade lighter than page background) in dark mode, GitHub-style.

Output: Header and Sidebar components that properly adapt to light/dark themes using semantic color tokens.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-component-dark-mode-coverage/02-CONTEXT.md
@.planning/phases/02-component-dark-mode-coverage/02-RESEARCH.md
@frontend/src/index.css
@frontend/src/components/layout/Header.tsx
@frontend/src/components/layout/Sidebar.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update Header component with semantic colors</name>
  <files>frontend/src/components/layout/Header.tsx</files>
  <action>
Replace hardcoded colors in Header.tsx with semantic Tailwind classes:

Current -> Replacement:
- `bg-white` -> `bg-card` (elevated surface per user decision)
- `text-slate-900` -> `text-foreground`
- `text-slate-400` -> `text-muted-foreground`
- `text-slate-500` -> `text-muted-foreground`
- `border-slate-200` -> `border-input`
- `bg-slate-50` -> `bg-background`
- `focus:border-blue-500 focus:ring-blue-500` -> `focus-visible:ring-1 focus-visible:ring-ring focus-visible:border-ring`

Also update the notification badge ring:
- `ring-white` -> `ring-background`

Keep shadow-sm as it works in both modes.
  </action>
  <verify>
Run `npm run build --prefix frontend` to verify no TypeScript errors.
Grep for hardcoded slate colors: `grep -E "(bg-white|text-slate|border-slate)" frontend/src/components/layout/Header.tsx` should return empty.
  </verify>
  <done>
Header.tsx contains no hardcoded white/slate colors. All color references use semantic tokens (bg-card, text-foreground, text-muted-foreground, border-input, ring-background).
  </done>
</task>

<task type="auto">
  <name>Task 2: Update Sidebar component with semantic colors</name>
  <files>frontend/src/components/layout/Sidebar.tsx</files>
  <action>
The Sidebar already uses a dark aesthetic (bg-slate-900) which is intentional branding. However, it should use semantic sidebar tokens defined in index.css for consistency.

Replace hardcoded colors with sidebar-specific semantic tokens:

Current -> Replacement:
- `bg-slate-900` -> `bg-sidebar`
- `text-white` -> `text-sidebar-foreground`
- `border-slate-800` -> `border-sidebar-border`
- `bg-blue-600` (logo) -> `bg-sidebar-primary`
- `bg-blue-600` (active link) -> `bg-sidebar-primary`
- `text-slate-400` -> `text-sidebar-foreground/70` (or use opacity)
- `hover:bg-slate-800` -> `hover:bg-sidebar-accent`
- `text-slate-500` -> `text-sidebar-foreground/50`
- `bg-slate-800/50` -> `bg-sidebar-accent/50`
- `bg-slate-700` -> `bg-sidebar-accent`

For the active state, keep the primary accent: `bg-sidebar-primary text-sidebar-primary-foreground`

Note: The sidebar uses a consistently dark theme regardless of light/dark mode. This is intentional brand design. The semantic tokens ensure it adapts if the design system changes.
  </action>
  <verify>
Run `npm run build --prefix frontend` to verify no TypeScript errors.
Grep for hardcoded slate colors: `grep -E "bg-slate-[789]00|text-slate|border-slate" frontend/src/components/layout/Sidebar.tsx` should return empty.
  </verify>
  <done>
Sidebar.tsx uses semantic sidebar tokens (bg-sidebar, text-sidebar-foreground, border-sidebar-border, etc.). No hardcoded slate-800/900 colors remain.
  </done>
</task>

</tasks>

<verification>
After both tasks complete:
1. `npm run build --prefix frontend` passes without errors
2. `grep -rE "(bg-white|text-slate-[0-9]|border-slate)" frontend/src/components/layout/` returns no matches
3. Header and Sidebar files contain semantic color classes
</verification>

<success_criteria>
- Header uses bg-card (elevated surface) instead of bg-white
- Header text uses text-foreground and text-muted-foreground
- Header inputs use border-input and focus-visible:ring-ring
- Sidebar uses semantic sidebar-* tokens throughout
- Both components build without errors
- No hardcoded slate/white colors remain in layout components
</success_criteria>

<output>
After completion, create `.planning/phases/02-component-dark-mode-coverage/02-01-SUMMARY.md`
</output>
