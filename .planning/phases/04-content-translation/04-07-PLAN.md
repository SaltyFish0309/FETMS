---
phase: 04-content-translation
plan: 07
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend/src/components/dashboard/ExpiryWidget.tsx
  - frontend/src/components/dashboard/CandidateList.tsx
  - frontend/public/locales/en/dashboard.json
  - frontend/public/locales/zh-TW/dashboard.json
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Dashboard Action Center displays translated headers and labels"
    - "Qualified Candidates section shows all text in selected language"
    - "Empty states and tab labels translate when switching languages"
  artifacts:
    - path: "frontend/src/components/dashboard/ExpiryWidget.tsx"
      provides: "Action Center translations"
      min_lines: 50
    - path: "frontend/src/components/dashboard/CandidateList.tsx"
      provides: "Qualified Candidates translations"
      min_lines: 40
    - path: "frontend/public/locales/en/dashboard.json"
      provides: "English translation keys for Action Center and Candidates"
      contains: "actionCenter"
    - path: "frontend/public/locales/zh-TW/dashboard.json"
      provides: "Chinese translation keys for Action Center and Candidates"
      contains: "actionCenter"
  key_links:
    - from: "frontend/src/components/dashboard/ExpiryWidget.tsx"
      to: "frontend/public/locales/*/dashboard.json"
      via: "useTranslation('dashboard')"
      pattern: "useTranslation.*dashboard"
    - from: "frontend/src/components/dashboard/CandidateList.tsx"
      to: "frontend/public/locales/*/dashboard.json"
      via: "useTranslation('dashboard')"
      pattern: "useTranslation.*dashboard"
---

<objective>
Translate Dashboard Action Center and Qualified Candidates sections to close UAT gaps.

Purpose: Fix UAT Test 4 failure - Action Center and Qualified Candidates are missing i18n integration, causing hardcoded English strings to appear when language is switched to Traditional Chinese.

Output: ExpiryWidget and CandidateList components fully translated with proper Traditional Chinese support.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-content-translation/04-03-SUMMARY.md

**Pattern established in 04-03:**
- Dashboard components use 'dashboard' namespace
- KPI cards use t('kpi.totalTeachers.label') pattern
- Chart components use t('charts.recruitment.title') pattern

**Gap from UAT:**
User reported: "Pass, but the Action Center and the Qualified Candidates are not translated."

Root cause: ExpiryWidget and CandidateList have 8+ and 6+ hardcoded English strings respectively, no useTranslation hook integration.

**Reference files to review:**
@frontend/src/components/dashboard/ExpiryWidget.tsx
@frontend/src/components/dashboard/CandidateList.tsx
@frontend/public/locales/en/dashboard.json
@frontend/public/locales/zh-TW/dashboard.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add translation keys for Action Center and Qualified Candidates</name>
  <files>
    frontend/public/locales/en/dashboard.json
    frontend/public/locales/zh-TW/dashboard.json
  </files>
  <action>
Add translation keys to both locale files following the established dashboard namespace pattern.

**In en/dashboard.json, add:**
```json
"actionCenter": {
  "title": "Action Center",
  "description": "Items requiring your attention",
  "tabs": {
    "expiringSoon": "Expiring Soon",
    "alerts": "Alerts",
    "settings": "Settings"
  },
  "expiryWidget": {
    "workPermit": "Work Permit",
    "arc": "ARC",
    "passport": "Passport",
    "expiresIn": "Expires in {{days}} days",
    "expired": "Expired",
    "viewAll": "View All",
    "noExpiries": "No expiring documents"
  }
},
"qualifiedCandidates": {
  "title": "Qualified Candidates",
  "description": "Teachers ready for hire",
  "labels": {
    "nationality": "Nationality",
    "degree": "Degree",
    "experience": "Experience",
    "yearsExp": "{{years}} years"
  },
  "actions": {
    "viewProfile": "View Profile",
    "contactCandidate": "Contact"
  },
  "empty": {
    "title": "No Candidates",
    "description": "No qualified candidates at this time"
  }
}
```

**In zh-TW/dashboard.json, add:**
```json
"actionCenter": {
  "title": "待處理事項",
  "description": "需要您注意的項目",
  "tabs": {
    "expiringSoon": "即將到期",
    "alerts": "提醒",
    "settings": "設定"
  },
  "expiryWidget": {
    "workPermit": "工作許可證",
    "arc": "居留證",
    "passport": "護照",
    "expiresIn": "{{days}} 天後到期",
    "expired": "已到期",
    "viewAll": "查看全部",
    "noExpiries": "無即將到期的文件"
  }
},
"qualifiedCandidates": {
  "title": "合格候選人",
  "description": "可聘用的教師",
  "labels": {
    "nationality": "國籍",
    "degree": "學位",
    "experience": "經驗",
    "yearsExp": "{{years}} 年"
  },
  "actions": {
    "viewProfile": "查看檔案",
    "contactCandidate": "聯絡"
  },
  "empty": {
    "title": "無候選人",
    "description": "目前沒有合格候選人"
  }
}
```

Preserve existing structure and add these as new top-level keys.
  </action>
  <verify>
Check both files have valid JSON syntax:
```bash
cd frontend && npm run build
```
No JSON parse errors should occur.
  </verify>
  <done>Both locale files contain actionCenter and qualifiedCandidates keys with complete translations.</done>
</task>

<task type="auto">
  <name>Task 2: Integrate i18n in ExpiryWidget component</name>
  <files>frontend/src/components/dashboard/ExpiryWidget.tsx</files>
  <action>
Read the current ExpiryWidget.tsx to identify all hardcoded strings, then:

1. Import useTranslation hook at the top:
```typescript
import { useTranslation } from 'react-i18next';
```

2. Inside the component function, add:
```typescript
const { t } = useTranslation('dashboard');
```

3. Replace all hardcoded English strings with t() calls using the keys from Task 1:
   - Tab labels: t('actionCenter.tabs.expiringSoon'), t('actionCenter.tabs.alerts'), t('actionCenter.tabs.settings')
   - Document types: t('actionCenter.expiryWidget.workPermit'), t('actionCenter.expiryWidget.arc'), t('actionCenter.expiryWidget.passport')
   - Dynamic messages: t('actionCenter.expiryWidget.expiresIn', { days: X })
   - Buttons: t('actionCenter.expiryWidget.viewAll')
   - Empty states: t('actionCenter.expiryWidget.noExpiries')

Preserve all existing component logic, styling, and functionality. Only replace hardcoded strings.
  </action>
  <verify>
1. Check import statement exists:
```bash
grep "useTranslation" frontend/src/components/dashboard/ExpiryWidget.tsx
```

2. Verify no hardcoded English strings remain (except prop names and code):
```bash
grep -E '"(Action Center|Expiring Soon|Work Permit|ARC|Passport|View All)"' frontend/src/components/dashboard/ExpiryWidget.tsx
```
Should return no matches.

3. Build succeeds:
```bash
cd frontend && npm run build
```
  </verify>
  <done>ExpiryWidget.tsx uses useTranslation('dashboard') hook and all UI strings are replaced with t() calls.</done>
</task>

<task type="auto">
  <name>Task 3: Integrate i18n in CandidateList component</name>
  <files>frontend/src/components/dashboard/CandidateList.tsx</files>
  <action>
Read the current CandidateList.tsx to identify all hardcoded strings, then:

1. Import useTranslation hook at the top:
```typescript
import { useTranslation } from 'react-i18next';
```

2. Inside the component function, add:
```typescript
const { t } = useTranslation('dashboard');
```

3. Replace all hardcoded English strings with t() calls:
   - Section title: t('qualifiedCandidates.title')
   - Section description: t('qualifiedCandidates.description')
   - Field labels: t('qualifiedCandidates.labels.nationality'), t('qualifiedCandidates.labels.degree'), t('qualifiedCandidates.labels.experience')
   - Dynamic experience: t('qualifiedCandidates.labels.yearsExp', { years: X })
   - Button labels: t('qualifiedCandidates.actions.viewProfile'), t('qualifiedCandidates.actions.contactCandidate')
   - Empty state: t('qualifiedCandidates.empty.title'), t('qualifiedCandidates.empty.description')

Preserve all existing component logic, candidate data handling, and styling.
  </action>
  <verify>
1. Check import statement exists:
```bash
grep "useTranslation" frontend/src/components/dashboard/CandidateList.tsx
```

2. Verify no hardcoded English strings remain:
```bash
grep -E '"(Qualified Candidates|View Profile|Nationality|Degree|Experience)"' frontend/src/components/dashboard/CandidateList.tsx
```
Should return no matches.

3. Build succeeds:
```bash
cd frontend && npm run build
```
  </verify>
  <done>CandidateList.tsx uses useTranslation('dashboard') hook and all UI strings are replaced with t() calls.</done>
</task>

</tasks>

<verification>
1. Visit Dashboard in the running app
2. Switch language to Traditional Chinese in Settings
3. Verify Action Center displays "待處理事項" header and Chinese tab labels
4. Verify Qualified Candidates shows "合格候選人" and all labels in Chinese
5. Switch back to English and confirm all labels display in English
</verification>

<success_criteria>
- Dashboard Action Center header, tabs, and labels translate between English and Traditional Chinese
- Qualified Candidates section title, field labels, and buttons translate correctly
- No English strings appear when language is set to Traditional Chinese
- UAT Test 4 gap closed: Action Center and Qualified Candidates fully translated
</success_criteria>

<output>
After completion, create `.planning/phases/04-content-translation/04-07-SUMMARY.md`
</output>
