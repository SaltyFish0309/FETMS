---
phase: 04-content-translation
plan: 13
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend/src/pages/Dashboard.tsx
  - frontend/src/pages/TeacherProfile.tsx
  - frontend/src/components/documents/useDocumentManager.ts
  - frontend/src/components/teachers/kanban/useTeacherKanban.ts
  - frontend/public/locales/en/dashboard.json
  - frontend/public/locales/zh-TW/dashboard.json
  - frontend/public/locales/en/teachers.json
  - frontend/public/locales/zh-TW/teachers.json
  - frontend/public/locales/en/documents.json
  - frontend/public/locales/zh-TW/documents.json
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "All toast error/success messages display in selected language"
    - "Form placeholders display in selected language"
    - "Build passes without errors"
  artifacts:
    - path: "frontend/public/locales/en/dashboard.json"
      provides: "Dashboard toast translation keys"
      contains: "toast"
    - path: "frontend/public/locales/en/teachers.json"
      provides: "Teacher profile placeholder and kanban toast keys"
      contains: "selectStatus"
    - path: "frontend/public/locales/en/documents.json"
      provides: "Document manager toast translation keys"
      contains: "toast"
  key_links:
    - from: "frontend/src/pages/Dashboard.tsx"
      to: "dashboard.json"
      via: "t('toast.loadError')"
      pattern: "t\\(['\"]toast\\."
    - from: "frontend/src/components/documents/useDocumentManager.ts"
      to: "documents.json"
      via: "useTranslation('documents')"
      pattern: "useTranslation.*documents"
    - from: "frontend/src/components/teachers/kanban/useTeacherKanban.ts"
      to: "teachers.json"
      via: "useTranslation('teachers')"
      pattern: "useTranslation.*teachers"
---

<objective>
Translate remaining hardcoded toast messages and placeholders identified in Phase 4 verification.

Purpose: Close the gap for "All form validation messages and error notifications display in selected language" and "Dropdown option values display in selected language" truths.

Output: All toast messages and placeholders in Dashboard, TeacherProfile, useDocumentManager, and useTeacherKanban use i18n translation keys.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/04-content-translation/04-CONTEXT.md
@frontend/public/locales/en/dashboard.json
@frontend/public/locales/en/teachers.json
@frontend/public/locales/en/documents.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add toast translation keys to locale files</name>
  <files>
    frontend/public/locales/en/dashboard.json
    frontend/public/locales/zh-TW/dashboard.json
    frontend/public/locales/en/teachers.json
    frontend/public/locales/zh-TW/teachers.json
    frontend/public/locales/en/documents.json
    frontend/public/locales/zh-TW/documents.json
  </files>
  <action>
    Add toast message translation keys to each locale file:

    **dashboard.json** - Add after "qualifiedCandidates" section:
    ```json
    "toast": {
      "loadError": "Failed to load dashboard data"
    }
    ```
    Chinese: "載入儀表板資料失敗"

    **teachers.json** - Add under "profile.fields":
    ```json
    "selectStatus": "Select status"
    ```
    Chinese: "選擇狀態"

    Also add under "profile" a new "kanban" section:
    ```json
    "kanban": {
      "toast": {
        "stageReorderError": "Failed to reorder stages",
        "teacherReorderError": "Failed to reorder",
        "teacherMoveError": "Failed to move teacher",
        "stageCreateSuccess": "Stage created",
        "stageCreateError": "Failed to create stage",
        "stageDeleteSuccess": "Stage deleted",
        "stageDeleteError": "Failed to delete stage"
      }
    }
    ```
    Chinese translations:
    - stageReorderError: "階段重新排序失敗"
    - teacherReorderError: "重新排序失敗"
    - teacherMoveError: "移動教師失敗"
    - stageCreateSuccess: "階段已建立"
    - stageCreateError: "建立階段失敗"
    - stageDeleteSuccess: "階段已刪除"
    - stageDeleteError: "刪除階段失敗"

    **documents.json** - Add toast section:
    ```json
    "toast": {
      "reorderError": "Failed to reorder boxes",
      "refreshed": "Refreshed",
      "moveSuccess": "Moved",
      "moveError": "Failed to move",
      "boxCreateSuccess": "Box created",
      "boxCreateError": "Error creating box",
      "boxUpdateSuccess": "Box updated",
      "boxUpdateError": "Error updating box",
      "boxDeleteSuccess": "Box deleted",
      "boxDeleteError": "Error deleting box",
      "downloadStart": "Download started",
      "downloadError": "Download failed",
      "noDocuments": "No documents"
    }
    ```
    Chinese translations:
    - reorderError: "重新排序資料夾失敗"
    - refreshed: "已重新整理"
    - moveSuccess: "已移動"
    - moveError: "移動失敗"
    - boxCreateSuccess: "資料夾已建立"
    - boxCreateError: "建立資料夾時發生錯誤"
    - boxUpdateSuccess: "資料夾已更新"
    - boxUpdateError: "更新資料夾時發生錯誤"
    - boxDeleteSuccess: "資料夾已刪除"
    - boxDeleteError: "刪除資料夾時發生錯誤"
    - downloadStart: "下載已開始"
    - downloadError: "下載失敗"
    - noDocuments: "沒有文件"
  </action>
  <verify>
    Verify JSON files are valid:
    ```bash
    node -e "require('./frontend/public/locales/en/dashboard.json')"
    node -e "require('./frontend/public/locales/en/teachers.json')"
    node -e "require('./frontend/public/locales/en/documents.json')"
    ```
  </verify>
  <done>All toast keys exist in both EN and ZH-TW locale files with matching structure</done>
</task>

<task type="auto">
  <name>Task 2: Integrate translations in Dashboard and TeacherProfile</name>
  <files>
    frontend/src/pages/Dashboard.tsx
    frontend/src/pages/TeacherProfile.tsx
  </files>
  <action>
    **Dashboard.tsx:**
    Replace line ~63:
    ```typescript
    toast.error("Failed to load dashboard data");
    ```
    With:
    ```typescript
    toast.error(t('toast.loadError'));
    ```
    The `t` function is already available from `useTranslation('dashboard')` on line 22.

    **TeacherProfile.tsx:**
    Replace line ~477:
    ```typescript
    <SelectValue placeholder="Select status" />
    ```
    With:
    ```typescript
    <SelectValue placeholder={t('profile.fields.selectStatus')} />
    ```
    The `t` function is already available from `useTranslation('teachers')` on line 61.
  </action>
  <verify>
    ```bash
    grep -n "toast.error(t" frontend/src/pages/Dashboard.tsx
    grep -n "selectStatus" frontend/src/pages/TeacherProfile.tsx
    ```
  </verify>
  <done>Dashboard and TeacherProfile use translation keys for toast/placeholder</done>
</task>

<task type="auto">
  <name>Task 3: Add i18n to useDocumentManager hook</name>
  <files>frontend/src/components/documents/useDocumentManager.ts</files>
  <action>
    1. Add import at top of file:
    ```typescript
    import { useTranslation } from 'react-i18next';
    ```

    2. Inside the hook function (after other hooks), add:
    ```typescript
    const { t } = useTranslation('documents');
    ```

    3. Replace all hardcoded toast messages:
    - Line ~87: `toast.error('Failed to reorder boxes')` -> `toast.error(t('toast.reorderError'))`
    - Line ~128: `toast.error('Refreshed')` -> `toast.error(t('toast.refreshed'))`
    - Line ~153: `toast.success('Moved')` -> `toast.success(t('toast.moveSuccess'))`
    - Line ~155: `toast.error('Failed to move')` -> `toast.error(t('toast.moveError'))`
    - Line ~165: `toast.success('Box created')` -> `toast.success(t('toast.boxCreateSuccess'))`
    - Line ~167: `toast.error('Error creating box')` -> `toast.error(t('toast.boxCreateError'))`
    - Line ~175: `toast.success('Box updated')` -> `toast.success(t('toast.boxUpdateSuccess'))`
    - Line ~177: `toast.error('Error updating box')` -> `toast.error(t('toast.boxUpdateError'))`
    - Line ~184: `toast.success('Box deleted')` -> `toast.success(t('toast.boxDeleteSuccess'))`
    - Line ~186: `toast.error('Error deleting box')` -> `toast.error(t('toast.boxDeleteError'))`
    - Line ~192: `toast.success('Download started')` -> `toast.success(t('toast.downloadStart'))`
    - Line ~197: `toast.error('Download failed')` -> `toast.error(t('toast.downloadError'))`
    - Line ~202: `toast.error("No documents")` -> `toast.error(t('toast.noDocuments'))`
  </action>
  <verify>
    ```bash
    grep -c "toast\.(error|success)(t(" frontend/src/components/documents/useDocumentManager.ts
    grep "useTranslation" frontend/src/components/documents/useDocumentManager.ts
    ```
  </verify>
  <done>useDocumentManager uses translation keys for all toast messages</done>
</task>

<task type="auto">
  <name>Task 4: Add i18n to useTeacherKanban hook</name>
  <files>frontend/src/components/teachers/kanban/useTeacherKanban.ts</files>
  <action>
    1. Add import at top of file:
    ```typescript
    import { useTranslation } from 'react-i18next';
    ```

    2. Inside the hook function (after other hooks), add:
    ```typescript
    const { t } = useTranslation('teachers');
    ```

    3. Replace all hardcoded toast messages:
    - Line ~118: `toast.error('Failed to reorder stages')` -> `toast.error(t('kanban.toast.stageReorderError'))`
    - Line ~154: `toast.error('Failed to reorder')` -> `toast.error(t('kanban.toast.teacherReorderError'))`
    - Line ~172: `toast.error('Failed to move teacher')` -> `toast.error(t('kanban.toast.teacherMoveError'))`
    - Line ~181: `toast.success('Stage created')` -> `toast.success(t('kanban.toast.stageCreateSuccess'))`
    - Line ~184: `toast.error('Failed to create stage')` -> `toast.error(t('kanban.toast.stageCreateError'))`
    - Line ~192: `toast.success('Stage deleted')` -> `toast.success(t('kanban.toast.stageDeleteSuccess'))`
    - Line ~196: `toast.error('Failed to delete stage')` -> `toast.error(t('kanban.toast.stageDeleteError'))`
  </action>
  <verify>
    ```bash
    grep -c "toast\.(error|success)(t(" frontend/src/components/teachers/kanban/useTeacherKanban.ts
    grep "useTranslation" frontend/src/components/teachers/kanban/useTeacherKanban.ts
    ```
  </verify>
  <done>useTeacherKanban uses translation keys for all toast messages</done>
</task>

</tasks>

<verification>
After all tasks complete:

1. **Build passes:**
   ```bash
   npm run build --prefix frontend
   ```

2. **No hardcoded toast messages remain in targeted files:**
   ```bash
   grep -E "toast\.(error|success|warning|info)\([\"'][^t(]" frontend/src/pages/Dashboard.tsx
   grep -E "toast\.(error|success|warning|info)\([\"'][^t(]" frontend/src/components/documents/useDocumentManager.ts
   grep -E "toast\.(error|success|warning|info)\([\"'][^t(]" frontend/src/components/teachers/kanban/useTeacherKanban.ts
   ```
   (Should return no matches)

3. **No hardcoded "Select status" placeholder:**
   ```bash
   grep "Select status" frontend/src/pages/TeacherProfile.tsx
   ```
   (Should return no matches)
</verification>

<success_criteria>
- [ ] All locale files have toast translation keys
- [ ] Dashboard.tsx uses t('toast.loadError')
- [ ] TeacherProfile.tsx uses t('profile.fields.selectStatus')
- [ ] useDocumentManager.ts has useTranslation and uses t() for all toasts
- [ ] useTeacherKanban.ts has useTranslation and uses t() for all toasts
- [ ] Frontend build passes
</success_criteria>

<output>
After completion, create `.planning/phases/04-content-translation/04-13-SUMMARY.md`
</output>
