---
phase: 02-component-dark-mode-coverage
plan: 07
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend/src/components/teachers/list/filters/DateRangeFilter.tsx
  - frontend/src/components/teachers/list/filters/NumberRangeFilter.tsx
  - frontend/src/components/teachers/list/filters/FilterSheet.tsx
  - frontend/src/components/teachers/list/DataTableFacetedFilter.tsx
  - frontend/src/components/teachers/list/DataTableViewOptions.tsx
  - frontend/src/components/teachers/ImportTeachersDialog.tsx
  - frontend/src/components/schools/ImportSchoolsDialog.tsx
  - frontend/src/components/documents/BoxManagementDialogs.tsx
  - frontend/src/components/settings/AlertRuleDialog.tsx
  - frontend/src/components/settings/CreateStageDialog.tsx
autonomous: true

must_haves:
  truths:
    - "Filter components (DateRange, NumberRange, FilterSheet) display correctly in dark mode"
    - "DataTable toolbar components (FacetedFilter, ViewOptions) have proper dark styling"
    - "Import dialogs (Teachers, Schools) are readable in dark mode"
    - "Settings dialogs (AlertRule, CreateStage) use semantic colors"
    - "BoxManagementDialogs use semantic colors"
  artifacts:
    - path: "frontend/src/components/teachers/list/filters/FilterSheet.tsx"
      provides: "Dark-mode-aware filter sheet"
      contains: "text-foreground"
    - path: "frontend/src/components/teachers/ImportTeachersDialog.tsx"
      provides: "Dark-mode-aware import dialog"
      contains: "text-muted-foreground"
    - path: "frontend/src/components/settings/AlertRuleDialog.tsx"
      provides: "Dark-mode-aware alert rule dialog"
      contains: "bg-card"
  key_links:
    - from: "frontend/src/components/teachers/list/filters/FilterSheet.tsx"
      to: "CSS variables"
      via: "Tailwind semantic classes"
      pattern: "(bg-card|text-foreground|text-muted-foreground|border-border)"
---

<objective>
Fix form components, filter components, and dialog components for dark mode by replacing hardcoded colors with semantic tokens.

Purpose: Forms, filters, and dialogs contain hardcoded slate/white colors that don't adapt to dark mode. These components are used throughout the app for data entry and configuration.

Output: All form, filter, and dialog components render correctly in both light and dark themes.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/02-component-dark-mode-coverage/02-CONTEXT.md
@.planning/phases/02-component-dark-mode-coverage/02-RESEARCH.md
@frontend/src/index.css
@frontend/src/components/teachers/list/filters/FilterSheet.tsx
@frontend/src/components/teachers/ImportTeachersDialog.tsx
@frontend/src/components/settings/AlertRuleDialog.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update filter components with semantic colors</name>
  <files>
    frontend/src/components/teachers/list/filters/DateRangeFilter.tsx
    frontend/src/components/teachers/list/filters/NumberRangeFilter.tsx
    frontend/src/components/teachers/list/filters/FilterSheet.tsx
  </files>
  <action>
Apply semantic color replacements to all filter components:

**Common patterns for ALL files:**
- `text-slate-900` -> `text-foreground`
- `text-slate-800` -> `text-foreground`
- `text-slate-700` -> `text-foreground`
- `text-slate-600` -> `text-muted-foreground`
- `text-slate-500` -> `text-muted-foreground`
- `text-slate-400` -> `text-muted-foreground`
- `bg-white` -> `bg-card`
- `bg-slate-50` -> `bg-muted`
- `bg-slate-100` -> `bg-muted`
- `border-slate-200` -> `border-border`
- `border-slate-300` -> `border-border`
- `hover:bg-slate-50` -> `hover:bg-muted/50`
- `hover:bg-slate-100` -> `hover:bg-muted`

**DateRangeFilter.tsx specific:**
- Date picker triggers should use bg-card
- Calendar popover styling relies on Shadcn (already semantic)

**NumberRangeFilter.tsx specific:**
- Input fields use Shadcn Input (already semantic)
- Labels and helper text should use text-muted-foreground

**FilterSheet.tsx specific:**
- Sheet header should use text-foreground
- Filter section labels should use text-foreground
- Reset/Apply buttons - keep primary brand colors
- Filter item backgrounds should use hover:bg-muted/50
  </action>
  <verify>
`npm run build --prefix frontend` passes.
`grep -rE "text-slate-[0-9]|bg-white|bg-slate-[0-9]|border-slate" frontend/src/components/teachers/list/filters/DateRangeFilter.tsx frontend/src/components/teachers/list/filters/NumberRangeFilter.tsx frontend/src/components/teachers/list/filters/FilterSheet.tsx` should return empty or minimal.
  </verify>
  <done>
Filter components (DateRangeFilter, NumberRangeFilter, FilterSheet) use semantic colors: text-foreground for labels, text-muted-foreground for helper text, bg-card for surfaces.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update DataTable toolbar components with semantic colors</name>
  <files>
    frontend/src/components/teachers/list/DataTableFacetedFilter.tsx
    frontend/src/components/teachers/list/DataTableViewOptions.tsx
  </files>
  <action>
Apply semantic color replacements to DataTable toolbar components:

**DataTableFacetedFilter.tsx:**
- Trigger button styling - should use Shadcn Button (already semantic)
- Selected values badge styling:
  - `bg-slate-100` -> `bg-muted`
  - `text-slate-700` -> `text-foreground`
- Filter option list:
  - `hover:bg-slate-100` -> `hover:bg-muted`
  - `text-slate-500` (count) -> `text-muted-foreground`
- Separator uses Shadcn Separator (already semantic)
- Command/Popover components use Shadcn (already semantic)

**DataTableViewOptions.tsx:**
- Dropdown trigger - Shadcn Button (already semantic)
- Dropdown content - Shadcn DropdownMenu (already semantic)
- Check any custom text styling:
  - `text-slate-*` -> `text-foreground` or `text-muted-foreground`
  </action>
  <verify>
`npm run build --prefix frontend` passes.
`grep -rE "text-slate-[0-9]|bg-slate-[0-9]|hover:bg-slate" frontend/src/components/teachers/list/DataTableFacetedFilter.tsx frontend/src/components/teachers/list/DataTableViewOptions.tsx` should return empty or minimal.
  </verify>
  <done>
DataTableFacetedFilter and DataTableViewOptions use semantic colors. Selected value badges use bg-muted, counts use text-muted-foreground.
  </done>
</task>

<task type="auto">
  <name>Task 3: Update dialog components with semantic colors</name>
  <files>
    frontend/src/components/teachers/ImportTeachersDialog.tsx
    frontend/src/components/schools/ImportSchoolsDialog.tsx
    frontend/src/components/documents/BoxManagementDialogs.tsx
    frontend/src/components/settings/AlertRuleDialog.tsx
    frontend/src/components/settings/CreateStageDialog.tsx
  </files>
  <action>
Apply semantic color replacements to all dialog components:

**Common patterns for ALL dialog files:**
- Dialog shell uses Shadcn Dialog (already semantic)
- Focus on CONTENT within dialogs:
  - `text-slate-900` -> `text-foreground`
  - `text-slate-800` -> `text-foreground`
  - `text-slate-700` -> `text-foreground`
  - `text-slate-600` -> `text-muted-foreground`
  - `text-slate-500` -> `text-muted-foreground`
  - `text-slate-400` -> `text-muted-foreground`
  - `bg-white` -> `bg-card`
  - `bg-slate-50` -> `bg-muted`
  - `bg-slate-100` -> `bg-muted`
  - `border-slate-200` -> `border-border`
  - `border-slate-300` -> `border-border`
  - `hover:bg-slate-50` -> `hover:bg-muted/50`

**ImportTeachersDialog.tsx / ImportSchoolsDialog.tsx specific:**
- File upload dropzone:
  - `border-slate-300 border-dashed` -> `border-border border-dashed`
  - `bg-slate-50` -> `bg-muted`
  - `text-slate-500` -> `text-muted-foreground`
- Preview table styling should match DataTable semantic patterns
- Error/warning messages - keep semantic status colors (red/amber)

**BoxManagementDialogs.tsx specific:**
- Box list items hover: `hover:bg-slate-50` -> `hover:bg-muted/50`
- Box icons/labels should use text-foreground and text-muted-foreground

**AlertRuleDialog.tsx specific:**
- Form labels should use text-foreground
- Helper text should use text-muted-foreground
- Condition builder backgrounds should use bg-muted

**CreateStageDialog.tsx specific:**
- Color picker/selector - keep color swatches as-is
- Form inputs use Shadcn (already semantic)
- Labels use text-foreground
  </action>
  <verify>
`npm run build --prefix frontend` passes.
`grep -rE "text-slate-[0-9]|bg-white|bg-slate-[0-9]|border-slate|hover:bg-slate" frontend/src/components/teachers/ImportTeachersDialog.tsx frontend/src/components/schools/ImportSchoolsDialog.tsx frontend/src/components/documents/BoxManagementDialogs.tsx frontend/src/components/settings/AlertRuleDialog.tsx frontend/src/components/settings/CreateStageDialog.tsx` should return empty or minimal.
  </verify>
  <done>
All dialog components (ImportTeachers, ImportSchools, BoxManagement, AlertRule, CreateStage) use semantic colors. File dropzones use bg-muted and border-border. Form labels use text-foreground.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `npm run build --prefix frontend` passes
2. Filter components use semantic color classes
3. DataTable toolbar components use semantic colors
4. All dialog components use semantic colors for content
5. No hardcoded slate/white colors remain in forms and dialogs
</verification>

<success_criteria>
- DateRangeFilter, NumberRangeFilter display correctly in dark mode
- FilterSheet uses text-foreground for headers, bg-card for surfaces
- DataTableFacetedFilter badges use bg-muted
- DataTableViewOptions uses semantic colors throughout
- ImportTeachersDialog file dropzone uses bg-muted
- ImportSchoolsDialog matches ImportTeachersDialog styling
- BoxManagementDialogs list items use hover:bg-muted/50
- AlertRuleDialog form uses semantic colors
- CreateStageDialog form uses semantic colors
- All components build without errors
</success_criteria>

<output>
After completion, create `.planning/phases/02-component-dark-mode-coverage/02-07-SUMMARY.md`
</output>
