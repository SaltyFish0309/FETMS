---
phase: 02-component-dark-mode-coverage
plan: 10
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend/src/components/teachers/list/ProjectToggle.tsx
  - frontend/src/components/teachers/AvatarEditor.tsx
  - frontend/src/components/teachers/list/columns.tsx
  - frontend/src/components/ui/phone-input.tsx
autonomous: true
gap_closure: true
must_haves:
  truths:
    - "ProjectToggle uses proper muted/accent backgrounds in dark mode"
    - "AvatarEditor modal background is dark in dark mode"
    - "Teacher list columns text is readable in dark mode"
    - "Phone input disabled state is readable in dark mode"
  artifacts:
    - path: "frontend/src/components/teachers/list/ProjectToggle.tsx"
      contains: "bg-muted"
    - path: "frontend/src/components/ui/phone-input.tsx"
      contains: "disabled:bg-muted"
  key_links: []
---

<objective>
Refactor Teacher components and UI primitives to remove hardcoded colors and use semantic tokens.

Purpose: Fix verification gaps identified in Phase 2 where components were using slate/white hardcoded values.
Output: Components that adapt correctly to theme changes.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/02-component-dark-mode-coverage/02-VERIFICATION.md
@frontend/src/index.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix Teacher components colors</name>
  <files>
    frontend/src/components/teachers/list/ProjectToggle.tsx
    frontend/src/components/teachers/AvatarEditor.tsx
    frontend/src/components/teachers/list/columns.tsx
  </files>
  <action>
    Refactor these files to use semantic tokens:

    1. ProjectToggle.tsx:
       - Often uses `bg-slate-100` for toggle backgrounds
       - Change to `bg-muted`
       - Active state: `bg-background` + `shadow-sm` (standard Shadcn pattern)
       - Text: `text-muted-foreground` -> `text-foreground` (active)

    2. AvatarEditor.tsx:
       - Modal content background: `bg-background` or `bg-card` (NOT `bg-white`)
       - Controls/sliders: Use semantic `accent` colors
       - Borders: `border-border`

    3. columns.tsx (Teacher List):
       - Check for badgers/tags using hardcoded colors
       - Check for action menu buttons using slate text
       - Replace with standard semantic variants (e.g. `Badge variant="secondary"`)

    Remove all hardcoded `slate-*` and `white` references.
  </action>
  <verify>
    grep -E "bg-white|bg-slate|text-slate|border-slate" frontend/src/components/teachers/list/ProjectToggle.tsx frontend/src/components/teachers/AvatarEditor.tsx frontend/src/components/teachers/list/columns.tsx
  </verify>
  <done>
    Teacher components rely purely on semantic tokens.
  </done>
</task>

<task type="auto">
  <name>Task 2: Fix Phone Input colors</name>
  <files>
    frontend/src/components/ui/phone-input.tsx
  </files>
  <action>
    Fix hardcoded colors in the PhoneInput component, specifically the disabled state mentioned in verification.

    1. phone-input.tsx:
       - Check for `disabled:bg-slate-50` or similar
       - Change to `disabled:cursor-not-allowed disabled:opacity-50` (let base styles handle it)
       - Or `disabled:bg-muted`
       - Check country selector dropdown for hardcoded backgrounds

    Ensure it matches standard Shadcn Input component styling.
  </action>
  <verify>
    grep -E "bg-slate|text-slate" frontend/src/components/ui/phone-input.tsx
  </verify>
  <done>
    PhoneInput matches system theme and standard input styling.
  </done>
</task>

</tasks>

<verification>
Run the grep checks from the tasks. If they return matches, the task is not complete.
</verification>

<success_criteria>
- All listed components utilize semantic Tailwind classes
- No hardcoded color palette values (slate-*) remain in these files
- Phone input looks correct in dark mode (especially disabled state)
</success_criteria>

<output>
After completion, create `.planning/phases/02-component-dark-mode-coverage/02-10-SUMMARY.md`
</output>
